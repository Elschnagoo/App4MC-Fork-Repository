
h1. Model Validation
 
h3. Usage of Check-based Validation

The AMALTHEA validation can be triggered by right clicking a model element in the left Model Explorer View and choose in the context menu Validate - Check-based Validation.

!(gray)../pictures/validation/2015-06-18_1_sphinx_validation_trigger_command.png!

All AMALTHEA sub elements of the chosen element are then included for the validation. In the next window the catalog appears allowing the selection of specific validation checks based on your selected model. Button "Select All" will select all listed validation checks for execution. Each entry of the catalog is called __Category__ which may contain several validation checks (i.e. constraints). The simplest way is to define a 1:1 relationship between category and constraint.

!(gray)../pictures/validation/2015-06-18_2_sphinx_validation_catalog.png!

If an error is found, it is shown in the Problems view of Eclipse. A simple double click on the error will lead you to the affected elements in the AMALTHEA model. Sphinx validation distinguishes between three error types: __errors__, __warnings__ and __info__.

!(gray)../pictures/validation/2015-06-18_3_sphinx_validation_results.png!


h3. Available Validations

The plugin __org.eclipse.app4mc.amalthea.model.all.sphinx.validation__ contains several validators and constraints (i.e. checks) for various model types of AMALTHEA.

h4. A. Basic Check Validator

Basic checks which cannot be assigned to a specific AMALTHEA model are summarized. Responsible implementation for this validation is the class @org.eclipse.app4mc.amalthea.model.all.sphinx.validation.checks.BasicCheckValidator@.

h5. CustomPropertyDuplicateKeyConstraint

A custom validation to check all set custom attributes of one element. If it contains duplicate key entries, it is treated as an error of this element.

h5. WeibullParametersConstraint

Checks the parameters in the __Distribution__ of type __WeibullEstimators__. The parameters must not be equal to each other, if this is the case, it will be handled as an **__error__**.

h4. B. ConstraintsModel Check Validator

Responsible implementation for this validation is the class @org.eclipse.app4mc.amalthea.model.all.sphinx.validation.checks.ConstraintsModelCheckValidator@.

h5. EventChainsConstraint

Checks for the AMALTHEA constraints model if the __EventChains__ are consistent regarding completeness (fully build chain) and correctness. Therefore each EventChain's stimulus/response pair is checked if events are existent and linked properly to a complete chain. An event chain of type __SubEventChain__ is checked for its "border" events fit to the stimulus and response event of the parent event chain. Cascades of sub events are processed recursively. A missing or wrong information in the event chain will be handled as an **__error__**. 


h4. C. EventModel Check Validator

Responsible implementation for this validation is the class @org.eclipse.app4mc.amalthea.model.all.sphinx.validation.checks.EventModelCheckValidator@.

h5. LabelEventMappingConstraint

Checks for the AMALTHEA event model in AMALTHEA if the mapping information for all __LabelEvent__ are complete and correct. If there is a missing mapping information (i.e. no __Entity__, __Process__ or __Runnable__) it will be handled as an **__error__**.

h5. ProcessEventMappingConstraint

Checks for the AMALTHEA event model in AMALTHEA if the mapping information for all __ProcessEvent__ are complete and correct. If there is a missing mapping information (i.e. no __Entity__ or __Core__) it will be handled as an **__error__**.
	 

h5. RunnableEventMappingConstraint

Checks for the AMALTHEA event model in AMALTHEA if the mapping information for all __RunnableEvent__ are complete and correct. If there is a missing mapping information (i.e. no __Entity__, __Core__ or __Process__) it will be handled as an **__error__**.


h5. SemaphoreEventMappingConstraint

Checks for the AMALTHEA event model in AMALTHEA if the mapping information for all __SemaphoreEvent__ are complete and correct. If there is a missing mapping information (i.e. no __Entity__, __Core__, __Process__ or __Runnable__) it will be handled as an **__error__**.

h5. StimulusEventMappingConstraint

Checks for the AMALTHEA event model in AMALTHEA if the mapping information for all __StimulusEvent__ are complete and correct. If there is a missing mapping information (i.e. no __Entity__) it will be handled as an **__error__**.
  


h4. D. HardwareModel Check Validator

Responsible implementation for this validation is the class @org.eclipse.app4mc.amalthea.model.all.sphinx.validation.checks.HardwareModelCheckValidator@.

h5. HwModelAbstractTypeDuplicateNameConstriant

Checks for the entire AMALTHEA hardware model instance if elements of Type __org.eclipse.app4mc.amalthea.model.hw.AbstractionTypeDescription__ (e.g. ECUType, CoreType or System) contain AMALTHEA elements of __org.eclipse.app4mc.amalthea.model.hw.AbstractType__ (e.g. StrValue, BoolValue) with the identical name. A found duplicate will be handled as an **__error__**.



h4. E. MappingModel Check Validator

Responsible implementation for this validation is the class @org.eclipse.app4mc.amalthea.model.all.sphinx.validation.checks.MappingModelCheckValidator@.

h5. Process2Scheduler2CoreMappingConstraint

Checks for the entire AMALTHEA model instance if the mapping information are complete and correct between __Software__(SW) <-> __Operating System__(OS) <-> __Software__(SW) model. I.e. mapping relationship {Process(SW) to Scheduler(OS) to Core(HW)}. A missing mapping information (i.e. no Entity) or unmapped Processes will be handled as an **__error__**.

